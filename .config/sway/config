# Set windows key as $mod
set $mod Mod4

# Set alt key as $alt
set $alt Mod1

# Font for window titles
font pango: Fira Sans Book 8

# CZ keyboard layout, caps:escape switch, lalt lwin switch
input type:keyboard {
    xkb_layout cz
    xkb_options altwin:swap_lalt_lwin,caps:escape
    repeat_delay 200
    repeat_rate 30
}

# Logitech MX Master 3 scroll factor
input 1133:16514:Logitech_MX_Master_3 {
    scroll_factor 1.5
}

# Setting background on my hdmi monitor
output HDMI-A-1 {
    bg ~/Documents/wallpapers/linux-robin.png stretch
    scale 1
}

# Setting default border for windows
default_border pixel 2

# Clipman
exec wl-paste -t text --watch clipman store

# Clipman history
bindsym $mod+v exec clipman pick --tool wofi -T'-i'

# Start jack with pre-defined customization
exec ~/Documents/Programming/Personal/AudioSetup/startjack.sh

bindsym --release $mod+s exec --no-startup-id grim -g "$(slurp)" - | wl-copy
bindsym --release $mod+Shift+s exec --no-startup-id grim -g "$(slurp)" ~/Pictures/screenshots/$(date +%s).png

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Ranger
bindsym $mod+f exec /usr/bin/kitty -e ranger

# start a terminal
bindsym $mod+Return exec /usr/bin/kitty

# kill focused window
bindsym $mod+Shift+q kill

# Wofi
set $menu dmenu_path | wofi --show drun -i | xargs swaymsg exec -

# start a program launcher
bindsym $mod+d exec --no-startup-id $menu

# Mako start
exec mako

# makoctl 
bindsym Control+Shift+period exec --no-startup-id makoctl restore

# Media player controls (visit https://github.com/altdesktop/playerctl for options)
bindsym XF86AudioPlay exec --no-startup-id playerctl --player=spotify play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl --player=spotify next
bindsym XF86AudioPrev exec --no-startup-id playerctl --player=spotify previous

# Pulse Audio controls (the number "3" here determines the correct JACK sink, $ pacmd list-sinks | grep -e 'name:' -e 'index:' )
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 3 +2% #increase sound volume 
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 3 -2% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 3 toggle # mute sound

set $j j
set $h h
set $k k
set $l l

# change focus
bindsym $mod+$h focus left
bindsym $mod+$j focus down
bindsym $mod+$k focus up
bindsym $mod+$l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+$h move left
bindsym $mod+Shift+$j move down
bindsym $mod+Shift+$k move up
bindsym $mod+Shift+$l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split toggle
bindsym $mod+x split toggle

# enter fullscreen mode for the focused container
bindsym $mod+Shift+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+Shift+space focus mode_toggle

set $workspace1 "1:Chrome "
# 
set $workspace2 "2:Communication " 
set $workspace3 "3:Terminals "
set $workspace4 "4:Telegram "
set $workspace5 "5:MyChrome "
set $workspace6 "6:Virtualbox "
set $workspace8 "8:OBS "
set $workspace9 "9:Audio "
set $workspace10 "10:Spotify "

#    # switch to workspace
#    bindsym $mod+1 workspace $workspace1
#    bindsym $mod+2 workspace $workspace2
#    bindsym $mod+3 workspace $workspace3
#    bindsym $mod+4 workspace $workspace4
#    bindsym $mod+5 workspace $workspace5
#    bindsym $mod+6 workspace $workspace6
#    bindsym $mod+7 workspace 7
#    bindsym $mod+8 workspace $workspace8
#    bindsym $mod+9 workspace $workspace9
#    bindsym $mod+0 workspace $workspace10
#    
#    # move focused container to workspace
#    bindsym $mod+Shift+1 move container to workspace $workspace1
#    bindsym $mod+Shift+2 move container to workspace $workspace2
#    bindsym $mod+Shift+3 move container to workspace $workspace3
#    bindsym $mod+Shift+4 move container to workspace $workspace4
#    bindsym $mod+Shift+5 move container to workspace $workspace5
#    bindsym $mod+Shift+6 move container to workspace $workspace6
#    bindsym $mod+Shift+7 move container to workspace 7
#    bindsym $mod+Shift+8 move container to workspace $workspace8
#    bindsym $mod+Shift+9 move container to workspace $workspace9
#    bindsym $mod+Shift+0 move container to workspace $workspace10


# switch to workspace
bindsym $mod+plus workspace $workspace1
bindsym $mod+ecaron workspace $workspace2
bindsym $mod+scaron workspace $workspace3
bindsym $mod+ccaron workspace $workspace4
bindsym $mod+rcaron workspace $workspace5
bindsym $mod+zcaron workspace $workspace6
bindsym $mod+yacute workspace 7
bindsym $mod+aacute workspace $workspace8
bindsym $mod+iacute workspace $workspace9
bindsym $mod+eacute workspace $workspace10

# move focused container to workspace
bindsym $mod+Shift+plus move container to workspace $workspace1
bindsym $mod+Shift+ecaron move container to workspace $workspace2
bindsym $mod+Shift+scaron move container to workspace $workspace3
bindsym $mod+Shift+ccaron move container to workspace $workspace4
bindsym $mod+Shift+rcaron move container to workspace $workspace5
bindsym $mod+Shift+zcaron move container to workspace $workspace6
bindsym $mod+Shift+yacute move container to workspace 7
bindsym $mod+Shift+aacute move container to workspace $workspace8
bindsym $mod+Shift+iacute move container to workspace $workspace9
bindsym $mod+Shift+eacute move container to workspace $workspace10

# reload the configuration file
bindsym $mod+Shift+c reload

# exit sway (logs you out of your X session)
bindsym $mod+Shift+e exec "swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit Sway? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym $h resize shrink width 10 px or 10 ppt
        bindsym $j resize grow height 10 px or 10 ppt
        bindsym $k resize shrink height 10 px or 10 ppt
        bindsym $l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Focus on mouse hover (yes/no)
focus_follows_mouse yes

# swaylock
bindsym $mod+Shift+x exec --no-startup-id swaylock -f -i ~/Documents/wallpapers/linux-robin.png

#swaylock + suspend
bindsym $mod+Shift+Control+x exec --no-startup-id swaylock -f -i ~/Documents/wallpapers/linux-robin.png && systemctl suspend

exec swayidle -w \
    timeout 300 swaylock -f -i ~/Documents/wallpapers/linux-robin.png \
    timeout 600 'swaymsg "output * dpms off"' \
        resume 'swaymsg "output * dpms on"' \
    before-sleep swaylock -f -i ~/Documents/wallpapers/linux-robin.png

# Google-Chrome
bindsym $mod+b exec google-chrome-stable

## Bar configuration

bar {
        # Sets i3status-rust as the status bar 
        # status_command /usr/bin/i3status-rs ~/.config/i3status-rust/status.toml

        # Tray Output control (run xrandr to find out monitor)
        #tray_output none

        # Says padding, but basically icon size
        tray_padding 4
        
        # Postition of the bar (default bottom)
        position top
        
        swaybar_command waybar
        # Dunno what this does, I think it's just a fix for something
        font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
        # Setting the used fonts
       
}

#### Autostart Apps (Edit depending on the computer setup)

# GeoClue2 for the Redshift daemon
exec --no-startup-id /usr/lib/geoclue-2.0/demos/agent
# Redshift (apparently runs alone right now)
exec --no-startup-id redshift

for_window [app_id="org.gnome.Weather"] floating enable
for_window [app_id="telegramdesktop"] floating enable

# vim intellisense for i3, managed by Plug 'PotatoesMaster/i3-vim-syntax'
# vim:filetype=i3
